<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="tr">
<head>
    <meta charset="UTF-8">
    <title>PLC Logs</title>
    <style>
        :root{--panel-bg:rgba(255,255,255,.85);--panel-border:rgba(0,0,0,.06);--radius:16px;--brand:#0a6cf1;--ink:#0e2a47}
        body{font-family:'Segoe UI',Arial,sans-serif;margin:20px;background:linear-gradient(135deg,#0e2a47 0%,#112b3c 30%,#0a6cf1 120%) fixed}
        .return-home-btn{position:absolute;top:25px;right:30px;background:var(--brand);color:#fff;border:none;border-radius:999px;padding:12px;width:48px;height:48px;font-size:1.1rem;font-weight:600;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(10,108,241,.25)}
        .return-home-btn:hover{background:#0956c0}
        .logs-container{background:var(--panel-bg);border:1px solid var(--panel-border);border-radius:var(--radius);padding:25px 30px;margin:0 auto;max-width:95%;box-shadow:0 4px 14px rgba(0,0,0,.12);position:relative}
        .logs-title{font-size:1.8rem;font-weight:600;color:var(--ink);margin:0 0 20px 0;display:flex;align-items:center;gap:12px;padding-right:60px}
        .logs-title-icon{font-size:2rem;color:var(--brand);background:rgba(10,108,241,.08);width:50px;height:50px;border-radius:12px;display:grid;place-items:center}
        .logs-subtitle{color:var(--ink);opacity:.8;font-size:1rem;margin:-10px 0 20px 0;font-weight:400;padding-right:60px}
        .filter-form{background:rgba(255,255,255,.9);border:1px solid var(--panel-border);border-radius:var(--radius);padding:20px;margin-bottom:25px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
        .filter-row{display:flex;align-items:center;gap:20px;flex-wrap:wrap}
        .filter-group{display:flex;align-items:center;gap:10px}
        .filter-label{font-weight:500;color:var(--ink);opacity:.9;font-size:.95rem}
        .filter-select{padding:8px 12px;border:1px solid rgba(0,0,0,.12);border-radius:8px;background:#fff;font-size:.9rem;color:var(--ink);cursor:pointer}
        .filter-select:hover{border-color:var(--brand)}
        .filter-select:focus{outline:none;border-color:var(--brand);box-shadow:0 0 0 3px rgba(10,108,241,.15)}
        .logs-table{width:100%;border-collapse:collapse;margin-top:15px;border-radius:var(--radius);overflow:hidden;background:rgba(255,255,255,.75);border:1px solid var(--panel-border);box-shadow:0 2px 8px rgba(0,0,0,.08)}
        .logs-table th{background:var(--brand);color:#fff;padding:12px 15px;text-align:left;font-weight:600;font-size:.9rem;border:none}
        .logs-table td{padding:12px 15px;border-bottom:1px solid rgba(0,0,0,.06);font-size:.9rem;color:var(--ink);background:rgba(255,255,255,.9)}
        .logs-table tbody tr:hover{background:rgba(10,108,241,.06)}
        .status-badge,.source-badge{padding:6px 12px;border-radius:999px;font-size:.8rem;font-weight:500;text-align:center;display:inline-block;min-width:70px;border:1px solid rgba(0,0,0,.08);background:#fff}
        .status-RUN{background:rgba(39,174,96,.12);color:#27ae60;border-color:rgba(39,174,96,.2)}
        .status-STOP{background:rgba(231,76,60,.12);color:#e74c3c;border-color:rgba(231,76,60,.2)}
        .status-ACTIVE{background:rgba(52,152,219,.12);color:#3498db;border-color:rgba(52,152,219,.2)}
        .source-PLC{background:rgba(232,244,253,.9);color:var(--brand)}
        .source-LINE{background:rgba(255,243,205,.9);color:#856404}
        .log-count{background:var(--brand);color:#fff;padding:8px 16px;border-radius:999px;font-size:.9rem;font-weight:500;margin-left:auto;box-shadow:0 2px 8px rgba(10,108,241,.2)}
        @media (max-width:768px){.logs-container{padding:20px;margin:0 auto 20px}.logs-title{font-size:1.5rem;padding-right:50px}.logs-subtitle{padding-right:50px}.filter-row{flex-direction:column;align-items:flex-start;gap:15px}.logs-table{font-size:.8rem}.logs-table th,.logs-table td{padding:8px 10px}.return-home-btn{top:20px;right:20px;width:42px;height:42px;font-size:1rem}.log-count{margin-left:0;align-self:flex-start}}
        @media (max-width:480px){body{margin:10px}.logs-container{padding:15px;border-radius:12px}.return-home-btn{top:15px;right:15px;width:38px;height:38px;font-size:.9rem}.logs-title{padding-right:45px;font-size:1.3rem}.logs-subtitle{padding-right:45px}.filter-form{padding:15px}.filter-group{flex-direction:column;align-items:flex-start;gap:5px}}
    </style>
</head>
<body>

<div class="logs-container">
    <a th:href="@{/}" class="return-home-btn" title="Home">‚Üê</a>

    <h2 class="logs-title">
        Log Records
    </h2>
    <p class="logs-subtitle">PLC Monitoring System - Real-time log tracking</p>

    <form method="get" action="/logs" class="filter-form">
        <div class="filter-row">
            <div class="filter-group">
                <label class="filter-label">Source:</label>
                <select name="source" class="filter-select" onchange="this.form.submit()">
                    <option value="" th:selected="${source == null}">All Sources</option>
                    <option value="PLC" th:selected="${source == 'PLC'}">PLC</option>
                    <option value="LINE" th:selected="${source == 'LINE'}">LINE</option>
                </select>
            </div>

            <div th:if="${source == 'LINE'}" class="filter-group">
                <label class="filter-label">Status:</label>
                <select name="status" class="filter-select" onchange="this.form.submit()">
                    <option value="" th:selected="${status == null}">All Status</option>
                    <option value="RUN" th:selected="${status == 'RUN'}">RUN</option>
                    <option value="STOP" th:selected="${status == 'STOP'}">STOP</option>
                </select>
            </div>

            <div class="log-count" th:text="'Total: ' + ${logs.size()} + ' logs'">Total: 150 logs</div>
        </div>
    </form>

    <table class="logs-table">
        <thead>
        <tr>
            <th>Time</th>
            <th>Source</th>
            <th>ID</th>
            <th>Seq No</th>
            <th>Status</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="r : ${logs}">
            <td th:text="${#temporals.format(r.procDate, 'dd.MM.yyyy HH:mm:ss')}">2025-07-31T08:30:10</td>
            <td><span th:classappend="'source-badge source-' + ${r.source}" th:text="${r.source}">PLC</span></td>
            <td th:text="${r.id}">LINE-1</td>
            <td th:text="${r.seqNo}">23010</td>
            <td>
                <span th:if="${r.status}" th:classappend="'status-badge status-' + ${r.status}" th:text="${r.status}">RUN</span>
                <span th:unless="${r.status}" class="status-badge">-</span>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<script>
    document.addEventListener("DOMContentLoaded",()=>{console.log("Logs page loaded.")})
</script>
</body>
</html>
